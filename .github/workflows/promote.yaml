jobs:
    activemq_5_15_jdk_8:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'activemq_5_15_jdk_8,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/activemq:5.15-jdk-8-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for activemq:5.15-jdk-8
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/activemq
                    acicn/activemq
                    ccr.ccs.tencentyun.com/acicn/activemq
                    registry.cn-shenzhen.aliyuncs.com/acicn/activemq
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/activemq
                tags: type=raw,value=5.15-jdk-8
            - id: build
              name: build for activemq:5.15-jdk-8
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    activemq_5_15_jdk_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'activemq_5_15_jdk_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/activemq:5.15-jdk-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for activemq:5.15-jdk-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/activemq
                    acicn/activemq
                    ccr.ccs.tencentyun.com/acicn/activemq
                    registry.cn-shenzhen.aliyuncs.com/acicn/activemq
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/activemq
                tags: |-
                    type=raw,value=5.15-jdk-11
                    type=raw,value=5.15
            - id: build
              name: build for activemq:5.15-jdk-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    alinode_12_sensordata_filebeat:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'alinode_12_sensordata_filebeat,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/alinode:12-sensordata-filebeat-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for alinode:12-sensordata-filebeat
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/alinode
                    acicn/alinode
                    ccr.ccs.tencentyun.com/acicn/alinode
                    registry.cn-shenzhen.aliyuncs.com/acicn/alinode
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/alinode
                tags: type=raw,value=12-sensordata-filebeat
            - id: build
              name: build for alinode:12-sensordata-filebeat
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    alinode_16_sensordata_filebeat:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'alinode_16_sensordata_filebeat,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/alinode:16-sensordata-filebeat-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for alinode:16-sensordata-filebeat
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/alinode
                    acicn/alinode
                    ccr.ccs.tencentyun.com/acicn/alinode
                    registry.cn-shenzhen.aliyuncs.com/acicn/alinode
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/alinode
                tags: type=raw,value=16-sensordata-filebeat
            - id: build
              name: build for alinode:16-sensordata-filebeat
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    alpine_3_16:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'alpine_3_16,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/alpine:3.16-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for alpine:3.16
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/alpine
                    acicn/alpine
                    ccr.ccs.tencentyun.com/acicn/alpine
                    registry.cn-shenzhen.aliyuncs.com/acicn/alpine
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/alpine
                tags: type=raw,value=3.16
            - id: build
              name: build for alpine:3.16
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    alpine_3_16_no_minit:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'alpine_3_16_no_minit,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/alpine:3.16-no-minit-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for alpine:3.16-no-minit
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/alpine
                    acicn/alpine
                    ccr.ccs.tencentyun.com/acicn/alpine
                    registry.cn-shenzhen.aliyuncs.com/acicn/alpine
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/alpine
                tags: type=raw,value=3.16-no-minit
            - id: build
              name: build for alpine:3.16-no-minit
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    apollo_1_3_0_jdk_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'apollo_1_3_0_jdk_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/apollo:1.3.0-jdk-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for apollo:1.3.0-jdk-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/apollo
                    acicn/apollo
                    ccr.ccs.tencentyun.com/acicn/apollo
                    registry.cn-shenzhen.aliyuncs.com/acicn/apollo
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/apollo
                tags: |-
                    type=raw,value=1.3.0-jdk-11
                    type=raw,value=1.3.0
            - id: build
              name: build for apollo:1.3.0-jdk-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    beanstalk_1_alpine_3_16:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'beanstalk_1_alpine_3_16,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/beanstalk:1-alpine-3.16-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for beanstalk:1-alpine-3.16
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/beanstalk
                    acicn/beanstalk
                    ccr.ccs.tencentyun.com/acicn/beanstalk
                    registry.cn-shenzhen.aliyuncs.com/acicn/beanstalk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/beanstalk
                tags: |-
                    type=raw,value=1-alpine-3.16
                    type=raw,value=1
                    type=raw,value=latest
            - id: build
              name: build for beanstalk:1-alpine-3.16
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/debian:11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for debian:11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/debian
                    acicn/debian
                    ccr.ccs.tencentyun.com/acicn/debian
                    registry.cn-shenzhen.aliyuncs.com/acicn/debian
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/debian
                tags: type=raw,value=11
            - id: build
              name: build for debian:11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    debian_11_no_minit:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'debian_11_no_minit,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/debian:11-no-minit-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for debian:11-no-minit
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/debian
                    acicn/debian
                    ccr.ccs.tencentyun.com/acicn/debian
                    registry.cn-shenzhen.aliyuncs.com/acicn/debian
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/debian
                tags: type=raw,value=11-no-minit
            - id: build
              name: build for debian:11-no-minit
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    elasticsearch_6_3_2_jdk_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'elasticsearch_6_3_2_jdk_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/elasticsearch:6.3.2-jdk-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for elasticsearch:6.3.2-jdk-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/elasticsearch
                    acicn/elasticsearch
                    ccr.ccs.tencentyun.com/acicn/elasticsearch
                    registry.cn-shenzhen.aliyuncs.com/acicn/elasticsearch
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/elasticsearch
                tags: |-
                    type=raw,value=6.3.2-jdk-11
                    type=raw,value=6.3.2
            - id: build
              name: build for elasticsearch:6.3.2-jdk-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    elasticsearch_6_8_18_jdk_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'elasticsearch_6_8_18_jdk_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/elasticsearch:6.8.18-jdk-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for elasticsearch:6.8.18-jdk-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/elasticsearch
                    acicn/elasticsearch
                    ccr.ccs.tencentyun.com/acicn/elasticsearch
                    registry.cn-shenzhen.aliyuncs.com/acicn/elasticsearch
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/elasticsearch
                tags: |-
                    type=raw,value=6.8.18-jdk-11
                    type=raw,value=6.8.18
            - id: build
              name: build for elasticsearch:6.8.18-jdk-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    elasticsearch_7_17_7_jdk_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'elasticsearch_7_17_7_jdk_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/elasticsearch:7.17.7-jdk-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for elasticsearch:7.17.7-jdk-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/elasticsearch
                    acicn/elasticsearch
                    ccr.ccs.tencentyun.com/acicn/elasticsearch
                    registry.cn-shenzhen.aliyuncs.com/acicn/elasticsearch
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/elasticsearch
                tags: |-
                    type=raw,value=7.17.7-jdk-11
                    type=raw,value=7.17.7
            - id: build
              name: build for elasticsearch:7.17.7-jdk-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    filebeat_6_3_2_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'filebeat_6_3_2_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/filebeat:6.3.2-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for filebeat:6.3.2-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/filebeat
                    acicn/filebeat
                    ccr.ccs.tencentyun.com/acicn/filebeat
                    registry.cn-shenzhen.aliyuncs.com/acicn/filebeat
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/filebeat
                tags: |-
                    type=raw,value=6.3.2-debian-11
                    type=raw,value=6.3.2
            - id: build
              name: build for filebeat:6.3.2-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_8_cubic:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_8_cubic,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:8-cubic-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:8-cubic
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=8-cubic
                    type=raw,value=8-pagoda-cubic
            - id: build
              name: build for jdk:8-cubic
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_8_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_8_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:8-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:8-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=8-debian-11
                    type=raw,value=8
                    type=raw,value=8-pagoda
            - id: build
              name: build for jdk:8-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_11_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_11_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:11-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:11-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=11-debian-11
                    type=raw,value=11
                    type=raw,value=11-pagoda
            - id: build
              name: build for jdk:11-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_17_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_17_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:17-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:17-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=17-debian-11
                    type=raw,value=17
                    type=raw,value=17-pagoda
            - id: build
              name: build for jdk:17-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_builder_8_maven_3_5_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_builder_8_maven_3_5_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:builder-8-maven-3.5-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:builder-8-maven-3.5-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=builder-8-maven-3.5-debian-11
                    type=raw,value=builder-8-maven-3.5
            - id: build
              name: build for jdk:builder-8-maven-3.5-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_builder_8_maven_3_6_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_builder_8_maven_3_6_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:builder-8-maven-3.6-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:builder-8-maven-3.6-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=builder-8-maven-3.6-debian-11
                    type=raw,value=builder-8-maven-3.6
                    type=raw,value=builder-8
            - id: build
              name: build for jdk:builder-8-maven-3.6-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_builder_8_maven_3_8_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_builder_8_maven_3_8_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:builder-8-maven-3.8-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:builder-8-maven-3.8-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=builder-8-maven-3.8-debian-11
                    type=raw,value=builder-8-maven-3.8
            - id: build
              name: build for jdk:builder-8-maven-3.8-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_builder_11_maven_3_5_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_builder_11_maven_3_5_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:builder-11-maven-3.5-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:builder-11-maven-3.5-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=builder-11-maven-3.5-debian-11
                    type=raw,value=builder-11-maven-3.5
            - id: build
              name: build for jdk:builder-11-maven-3.5-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_builder_11_maven_3_6_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_builder_11_maven_3_6_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:builder-11-maven-3.6-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:builder-11-maven-3.6-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=builder-11-maven-3.6-debian-11
                    type=raw,value=builder-11-maven-3.6
            - id: build
              name: build for jdk:builder-11-maven-3.6-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_builder_11_maven_3_8_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_builder_11_maven_3_8_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:builder-11-maven-3.8-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:builder-11-maven-3.8-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=builder-11-maven-3.8-debian-11
                    type=raw,value=builder-11-maven-3.8
                    type=raw,value=builder-11
            - id: build
              name: build for jdk:builder-11-maven-3.8-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_builder_17_maven_3_6_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_builder_17_maven_3_6_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:builder-17-maven-3.6-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:builder-17-maven-3.6-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=builder-17-maven-3.6-debian-11
                    type=raw,value=builder-17-maven-3.6
            - id: build
              name: build for jdk:builder-17-maven-3.6-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    jdk_builder_17_maven_3_8_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'jdk_builder_17_maven_3_8_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/jdk:builder-17-maven-3.8-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for jdk:builder-17-maven-3.8-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/jdk
                    acicn/jdk
                    ccr.ccs.tencentyun.com/acicn/jdk
                    registry.cn-shenzhen.aliyuncs.com/acicn/jdk
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/jdk
                tags: |-
                    type=raw,value=builder-17-maven-3.8-debian-11
                    type=raw,value=builder-17-maven-3.8
                    type=raw,value=builder-17
            - id: build
              name: build for jdk:builder-17-maven-3.8-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    kafka_2_1:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'kafka_2_1,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/kafka:2.1-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for kafka:2.1
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/kafka
                    acicn/kafka
                    ccr.ccs.tencentyun.com/acicn/kafka
                    registry.cn-shenzhen.aliyuncs.com/acicn/kafka
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/kafka
                tags: type=raw,value=2.1
            - id: build
              name: build for kafka:2.1
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    kafka_2_4:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'kafka_2_4,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/kafka:2.4-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for kafka:2.4
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/kafka
                    acicn/kafka
                    ccr.ccs.tencentyun.com/acicn/kafka
                    registry.cn-shenzhen.aliyuncs.com/acicn/kafka
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/kafka
                tags: type=raw,value=2.4
            - id: build
              name: build for kafka:2.4
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    kafka_2_8:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'kafka_2_8,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/kafka:2.8-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for kafka:2.8
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/kafka
                    acicn/kafka
                    ccr.ccs.tencentyun.com/acicn/kafka
                    registry.cn-shenzhen.aliyuncs.com/acicn/kafka
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/kafka
                tags: |-
                    type=raw,value=2.8
                    type=raw,value=latest
            - id: build
              name: build for kafka:2.8
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    kibana_7_17_7:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'kibana_7_17_7,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/kibana:7.17.7-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for kibana:7.17.7
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/kibana
                    acicn/kibana
                    ccr.ccs.tencentyun.com/acicn/kibana
                    registry.cn-shenzhen.aliyuncs.com/acicn/kibana
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/kibana
                tags: type=raw,value=7.17.7
            - id: build
              name: build for kibana:7.17.7
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    mongo_3_6:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'mongo_3_6,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/mongo:3.6-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for mongo:3.6
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/mongo
                    acicn/mongo
                    ccr.ccs.tencentyun.com/acicn/mongo
                    registry.cn-shenzhen.aliyuncs.com/acicn/mongo
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/mongo
                tags: type=raw,value=3.6
            - id: build
              name: build for mongo:3.6
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    mongo_4_0:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'mongo_4_0,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/mongo:4.0-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for mongo:4.0
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/mongo
                    acicn/mongo
                    ccr.ccs.tencentyun.com/acicn/mongo
                    registry.cn-shenzhen.aliyuncs.com/acicn/mongo
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/mongo
                tags: type=raw,value=4.0
            - id: build
              name: build for mongo:4.0
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    mongo_4_2:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'mongo_4_2,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/mongo:4.2-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for mongo:4.2
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/mongo
                    acicn/mongo
                    ccr.ccs.tencentyun.com/acicn/mongo
                    registry.cn-shenzhen.aliyuncs.com/acicn/mongo
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/mongo
                tags: type=raw,value=4.2
            - id: build
              name: build for mongo:4.2
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    mongo_4_4:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'mongo_4_4,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/mongo:4.4-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for mongo:4.4
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/mongo
                    acicn/mongo
                    ccr.ccs.tencentyun.com/acicn/mongo
                    registry.cn-shenzhen.aliyuncs.com/acicn/mongo
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/mongo
                tags: type=raw,value=4.4
            - id: build
              name: build for mongo:4.4
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    mysql_5_6:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'mysql_5_6,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/mysql:5.6-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for mysql:5.6
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/mysql
                    acicn/mysql
                    ccr.ccs.tencentyun.com/acicn/mysql
                    registry.cn-shenzhen.aliyuncs.com/acicn/mysql
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/mysql
                tags: type=raw,value=5.6
            - id: build
              name: build for mysql:5.6
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    mysql_5_7:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'mysql_5_7,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/mysql:5.7-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for mysql:5.7
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/mysql
                    acicn/mysql
                    ccr.ccs.tencentyun.com/acicn/mysql
                    registry.cn-shenzhen.aliyuncs.com/acicn/mysql
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/mysql
                tags: type=raw,value=5.7
            - id: build
              name: build for mysql:5.7
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    mysql_8_0:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'mysql_8_0,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/mysql:8.0-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for mysql:8.0
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/mysql
                    acicn/mysql
                    ccr.ccs.tencentyun.com/acicn/mysql
                    registry.cn-shenzhen.aliyuncs.com/acicn/mysql
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/mysql
                tags: type=raw,value=8.0
            - id: build
              name: build for mysql:8.0
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    nginx_alpine_3_16:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'nginx_alpine_3_16,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/nginx:alpine-3.16-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for nginx:alpine-3.16
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/nginx
                    acicn/nginx
                    ccr.ccs.tencentyun.com/acicn/nginx
                    registry.cn-shenzhen.aliyuncs.com/acicn/nginx
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/nginx
                tags: |-
                    type=raw,value=alpine-3.16
                    type=raw,value=latest
            - id: build
              name: build for nginx:alpine-3.16
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_8_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_8_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:8-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:8-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=8-debian-11
                    type=raw,value=8
            - id: build
              name: build for node:8-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_10_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_10_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:10-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:10-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=10-debian-11
                    type=raw,value=10
            - id: build
              name: build for node:10-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_12_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_12_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:12-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:12-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=12-debian-11
                    type=raw,value=12
            - id: build
              name: build for node:12-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_14_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_14_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:14-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:14-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=14-debian-11
                    type=raw,value=14
            - id: build
              name: build for node:14-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_16_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_16_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:16-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:16-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=16-debian-11
                    type=raw,value=16
            - id: build
              name: build for node:16-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_18_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_18_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:18-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:18-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=18-debian-11
                    type=raw,value=18
            - id: build
              name: build for node:18-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_builder_8_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_builder_8_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:builder-8-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:builder-8-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=builder-8-debian-11
                    type=raw,value=builder-8
            - id: build
              name: build for node:builder-8-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_builder_10_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_builder_10_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:builder-10-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:builder-10-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=builder-10-debian-11
                    type=raw,value=builder-10
            - id: build
              name: build for node:builder-10-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_builder_12_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_builder_12_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:builder-12-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:builder-12-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=builder-12-debian-11
                    type=raw,value=builder-12
            - id: build
              name: build for node:builder-12-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_builder_14_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_builder_14_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:builder-14-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:builder-14-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=builder-14-debian-11
                    type=raw,value=builder-14
            - id: build
              name: build for node:builder-14-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_builder_16_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_builder_16_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:builder-16-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:builder-16-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=builder-16-debian-11
                    type=raw,value=builder-16
            - id: build
              name: build for node:builder-16-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    node_builder_18_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'node_builder_18_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/node:builder-18-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for node:builder-18-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/node
                    acicn/node
                    ccr.ccs.tencentyun.com/acicn/node
                    registry.cn-shenzhen.aliyuncs.com/acicn/node
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/node
                tags: |-
                    type=raw,value=builder-18-debian-11
                    type=raw,value=builder-18
            - id: build
              name: build for node:builder-18-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    php_7_4_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'php_7_4_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/php:7.4-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for php:7.4-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/php
                    acicn/php
                    ccr.ccs.tencentyun.com/acicn/php
                    registry.cn-shenzhen.aliyuncs.com/acicn/php
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/php
                tags: |-
                    type=raw,value=7.4-debian-11
                    type=raw,value=7.4
                    type=raw,value=7.4-pagoda
                    type=raw,value=7.4-pagoda-debian-11
            - id: build
              name: build for php:7.4-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    postgres_9_6:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'postgres_9_6,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/postgres:9.6-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for postgres:9.6
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/postgres
                    acicn/postgres
                    ccr.ccs.tencentyun.com/acicn/postgres
                    registry.cn-shenzhen.aliyuncs.com/acicn/postgres
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/postgres
                tags: type=raw,value=9.6
            - id: build
              name: build for postgres:9.6
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    postgres_10_15:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'postgres_10_15,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/postgres:10.15-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for postgres:10.15
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/postgres
                    acicn/postgres
                    ccr.ccs.tencentyun.com/acicn/postgres
                    registry.cn-shenzhen.aliyuncs.com/acicn/postgres
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/postgres
                tags: type=raw,value=10.15
            - id: build
              name: build for postgres:10.15
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    postgres_11_10:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'postgres_11_10,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/postgres:11.10-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for postgres:11.10
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/postgres
                    acicn/postgres
                    ccr.ccs.tencentyun.com/acicn/postgres
                    registry.cn-shenzhen.aliyuncs.com/acicn/postgres
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/postgres
                tags: type=raw,value=11.10
            - id: build
              name: build for postgres:11.10
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    postgres_12_5:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'postgres_12_5,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/postgres:12.5-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for postgres:12.5
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/postgres
                    acicn/postgres
                    ccr.ccs.tencentyun.com/acicn/postgres
                    registry.cn-shenzhen.aliyuncs.com/acicn/postgres
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/postgres
                tags: type=raw,value=12.5
            - id: build
              name: build for postgres:12.5
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    prometheus_2_25:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'prometheus_2_25,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/prometheus:2.25-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for prometheus:2.25
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/prometheus
                    acicn/prometheus
                    ccr.ccs.tencentyun.com/acicn/prometheus
                    registry.cn-shenzhen.aliyuncs.com/acicn/prometheus
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/prometheus
                tags: type=raw,value=2.25
            - id: build
              name: build for prometheus:2.25
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    python_3_6_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'python_3_6_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/python:3.6-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for python:3.6-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/python
                    acicn/python
                    ccr.ccs.tencentyun.com/acicn/python
                    registry.cn-shenzhen.aliyuncs.com/acicn/python
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/python
                tags: |-
                    type=raw,value=3.6-debian-11
                    type=raw,value=3.6
            - id: build
              name: build for python:3.6-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    python_3_7_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'python_3_7_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/python:3.7-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for python:3.7-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/python
                    acicn/python
                    ccr.ccs.tencentyun.com/acicn/python
                    registry.cn-shenzhen.aliyuncs.com/acicn/python
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/python
                tags: |-
                    type=raw,value=3.7-debian-11
                    type=raw,value=3.7
            - id: build
              name: build for python:3.7-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    python_3_8_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'python_3_8_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/python:3.8-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for python:3.8-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/python
                    acicn/python
                    ccr.ccs.tencentyun.com/acicn/python
                    registry.cn-shenzhen.aliyuncs.com/acicn/python
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/python
                tags: |-
                    type=raw,value=3.8-debian-11
                    type=raw,value=3.8
            - id: build
              name: build for python:3.8-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    python_3_9_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'python_3_9_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/python:3.9-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for python:3.9-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/python
                    acicn/python
                    ccr.ccs.tencentyun.com/acicn/python
                    registry.cn-shenzhen.aliyuncs.com/acicn/python
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/python
                tags: |-
                    type=raw,value=3.9-debian-11
                    type=raw,value=3.9
            - id: build
              name: build for python:3.9-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    python_3_10_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'python_3_10_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/python:3.10-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for python:3.10-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/python
                    acicn/python
                    ccr.ccs.tencentyun.com/acicn/python
                    registry.cn-shenzhen.aliyuncs.com/acicn/python
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/python
                tags: |-
                    type=raw,value=3.10-debian-11
                    type=raw,value=3.10
            - id: build
              name: build for python:3.10-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    python_3_11_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'python_3_11_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/python:3.11-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for python:3.11-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/python
                    acicn/python
                    ccr.ccs.tencentyun.com/acicn/python
                    registry.cn-shenzhen.aliyuncs.com/acicn/python
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/python
                tags: |-
                    type=raw,value=3.11-debian-11
                    type=raw,value=3.11
            - id: build
              name: build for python:3.11-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    redis_5_alpine_3_16:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'redis_5_alpine_3_16,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/redis:5-alpine-3.16-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for redis:5-alpine-3.16
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/redis
                    acicn/redis
                    ccr.ccs.tencentyun.com/acicn/redis
                    registry.cn-shenzhen.aliyuncs.com/acicn/redis
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/redis
                tags: |-
                    type=raw,value=5-alpine-3.16
                    type=raw,value=5
            - id: build
              name: build for redis:5-alpine-3.16
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    redis_6_0_alpine_3_16:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'redis_6_0_alpine_3_16,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/redis:6.0-alpine-3.16-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for redis:6.0-alpine-3.16
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/redis
                    acicn/redis
                    ccr.ccs.tencentyun.com/acicn/redis
                    registry.cn-shenzhen.aliyuncs.com/acicn/redis
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/redis
                tags: |-
                    type=raw,value=6.0-alpine-3.16
                    type=raw,value=6.0
            - id: build
              name: build for redis:6.0-alpine-3.16
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    redis_6_2_alpine_3_16:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'redis_6_2_alpine_3_16,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/redis:6.2-alpine-3.16-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for redis:6.2-alpine-3.16
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/redis
                    acicn/redis
                    ccr.ccs.tencentyun.com/acicn/redis
                    registry.cn-shenzhen.aliyuncs.com/acicn/redis
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/redis
                tags: |-
                    type=raw,value=6.2-alpine-3.16
                    type=raw,value=6-alpine-3.16
                    type=raw,value=6
                    type=raw,value=6.2
            - id: build
              name: build for redis:6.2-alpine-3.16
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    redis_7_alpine_3_16:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'redis_7_alpine_3_16,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/redis:7-alpine-3.16-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for redis:7-alpine-3.16
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/redis
                    acicn/redis
                    ccr.ccs.tencentyun.com/acicn/redis
                    registry.cn-shenzhen.aliyuncs.com/acicn/redis
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/redis
                tags: |-
                    type=raw,value=7-alpine-3.16
                    type=raw,value=7
            - id: build
              name: build for redis:7-alpine-3.16
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    rocketmq_4_6_1_broker_jdk_8:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'rocketmq_4_6_1_broker_jdk_8,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/rocketmq:4.6.1-broker-jdk-8-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for rocketmq:4.6.1-broker-jdk-8
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/rocketmq
                    acicn/rocketmq
                    ccr.ccs.tencentyun.com/acicn/rocketmq
                    registry.cn-shenzhen.aliyuncs.com/acicn/rocketmq
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/rocketmq
                tags: |-
                    type=raw,value=4.6.1-broker-jdk-8
                    type=raw,value=4.6.1-broker
            - id: build
              name: build for rocketmq:4.6.1-broker-jdk-8
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    rocketmq_4_6_1_namesrv_jdk_8:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'rocketmq_4_6_1_namesrv_jdk_8,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/rocketmq:4.6.1-namesrv-jdk-8-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for rocketmq:4.6.1-namesrv-jdk-8
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/rocketmq
                    acicn/rocketmq
                    ccr.ccs.tencentyun.com/acicn/rocketmq
                    registry.cn-shenzhen.aliyuncs.com/acicn/rocketmq
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/rocketmq
                tags: |-
                    type=raw,value=4.6.1-namesrv-jdk-8
                    type=raw,value=4.6.1-namesrv
            - id: build
              name: build for rocketmq:4.6.1-namesrv-jdk-8
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    rocketmq_4_8_0_broker_jdk_8:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'rocketmq_4_8_0_broker_jdk_8,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/rocketmq:4.8.0-broker-jdk-8-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for rocketmq:4.8.0-broker-jdk-8
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/rocketmq
                    acicn/rocketmq
                    ccr.ccs.tencentyun.com/acicn/rocketmq
                    registry.cn-shenzhen.aliyuncs.com/acicn/rocketmq
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/rocketmq
                tags: |-
                    type=raw,value=4.8.0-broker-jdk-8
                    type=raw,value=4.8.0-broker
            - id: build
              name: build for rocketmq:4.8.0-broker-jdk-8
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    rocketmq_4_8_0_namesrv_jdk_8:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'rocketmq_4_8_0_namesrv_jdk_8,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/rocketmq:4.8.0-namesrv-jdk-8-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for rocketmq:4.8.0-namesrv-jdk-8
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/rocketmq
                    acicn/rocketmq
                    ccr.ccs.tencentyun.com/acicn/rocketmq
                    registry.cn-shenzhen.aliyuncs.com/acicn/rocketmq
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/rocketmq
                tags: |-
                    type=raw,value=4.8.0-namesrv-jdk-8
                    type=raw,value=4.8.0-namesrv
            - id: build
              name: build for rocketmq:4.8.0-namesrv-jdk-8
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    rocketmq_4_9_1_broker_jdk_8:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'rocketmq_4_9_1_broker_jdk_8,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/rocketmq:4.9.1-broker-jdk-8-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for rocketmq:4.9.1-broker-jdk-8
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/rocketmq
                    acicn/rocketmq
                    ccr.ccs.tencentyun.com/acicn/rocketmq
                    registry.cn-shenzhen.aliyuncs.com/acicn/rocketmq
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/rocketmq
                tags: |-
                    type=raw,value=4.9.1-broker-jdk-8
                    type=raw,value=4.9.1-broker
            - id: build
              name: build for rocketmq:4.9.1-broker-jdk-8
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    rocketmq_4_9_1_namesrv_jdk_8:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'rocketmq_4_9_1_namesrv_jdk_8,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/rocketmq:4.9.1-namesrv-jdk-8-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for rocketmq:4.9.1-namesrv-jdk-8
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/rocketmq
                    acicn/rocketmq
                    ccr.ccs.tencentyun.com/acicn/rocketmq
                    registry.cn-shenzhen.aliyuncs.com/acicn/rocketmq
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/rocketmq
                tags: |-
                    type=raw,value=4.9.1-namesrv-jdk-8
                    type=raw,value=4.9.1-namesrv
            - id: build
              name: build for rocketmq:4.9.1-namesrv-jdk-8
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    rocketmq_console:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'rocketmq_console,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/rocketmq:console-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for rocketmq:console
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/rocketmq
                    acicn/rocketmq
                    ccr.ccs.tencentyun.com/acicn/rocketmq
                    registry.cn-shenzhen.aliyuncs.com/acicn/rocketmq
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/rocketmq
                tags: type=raw,value=console
            - id: build
              name: build for rocketmq:console
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    spring_boot_admin_1_0:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'spring_boot_admin_1_0,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/spring-boot-admin:1.0-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for spring-boot-admin:1.0
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/spring-boot-admin
                    acicn/spring-boot-admin
                    ccr.ccs.tencentyun.com/acicn/spring-boot-admin
                    registry.cn-shenzhen.aliyuncs.com/acicn/spring-boot-admin
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/spring-boot-admin
                tags: |-
                    type=raw,value=1.0
                    type=raw,value=latest
            - id: build
              name: build for spring-boot-admin:1.0
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    tomcat_8_jdk_8_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'tomcat_8_jdk_8_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/tomcat:8-jdk-8-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for tomcat:8-jdk-8-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/tomcat
                    acicn/tomcat
                    ccr.ccs.tencentyun.com/acicn/tomcat
                    registry.cn-shenzhen.aliyuncs.com/acicn/tomcat
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/tomcat
                tags: |-
                    type=raw,value=8-jdk-8-debian-11
                    type=raw,value=8-jdk-8
            - id: build
              name: build for tomcat:8-jdk-8-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    tomcat_8_jdk_11_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'tomcat_8_jdk_11_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/tomcat:8-jdk-11-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for tomcat:8-jdk-11-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/tomcat
                    acicn/tomcat
                    ccr.ccs.tencentyun.com/acicn/tomcat
                    registry.cn-shenzhen.aliyuncs.com/acicn/tomcat
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/tomcat
                tags: |-
                    type=raw,value=8-jdk-11-debian-11
                    type=raw,value=8-jdk-11
                    type=raw,value=8
                    type=raw,value=8-pagoda
            - id: build
              name: build for tomcat:8-jdk-11-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    tomcat_9_jdk_8_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'tomcat_9_jdk_8_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/tomcat:9-jdk-8-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for tomcat:9-jdk-8-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/tomcat
                    acicn/tomcat
                    ccr.ccs.tencentyun.com/acicn/tomcat
                    registry.cn-shenzhen.aliyuncs.com/acicn/tomcat
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/tomcat
                tags: |-
                    type=raw,value=9-jdk-8-debian-11
                    type=raw,value=9-jdk-8
            - id: build
              name: build for tomcat:9-jdk-8-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    tomcat_9_jdk_11_debian_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'tomcat_9_jdk_11_debian_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/tomcat:9-jdk-11-debian-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for tomcat:9-jdk-11-debian-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/tomcat
                    acicn/tomcat
                    ccr.ccs.tencentyun.com/acicn/tomcat
                    registry.cn-shenzhen.aliyuncs.com/acicn/tomcat
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/tomcat
                tags: |-
                    type=raw,value=9-jdk-11-debian-11
                    type=raw,value=9-jdk-11
                    type=raw,value=9
            - id: build
              name: build for tomcat:9-jdk-11-debian-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
    zookeeper_3_6_2_jdk_11:
        if: inputs.job_name == 'all' || contains(inputs.job_name,'zookeeper_3_6_2_jdk_11,')
        permissions:
            contents: read
            id-token: write
            packages: read
        runs-on: ubuntu-latest
        steps:
            - name: checkout
              uses: actions/checkout@v3
            - name: generate dockerfile
              uses: DamianReeves/write-file-action@v1.2
              with:
                contents: FROM ghcr.io/guoyk93/acicn/zookeeper:3.6.2-jdk-11-rc
                path: docker/Dockerfile
                write-mode: overwrite
            - name: setup docker buildx
              uses: docker/setup-buildx-action@v2
            - name: docker login - ghcr
              uses: docker/login-action@v2
              with:
                password: ${{secrets.GITHUB_TOKEN}}
                registry: ghcr.io
                username: ${{github.actor}}
            - name: docker login - dockerhub
              uses: docker/login-action@v2
              with:
                password: ${{secrets.DOCKERHUB_TOKEN}}
                username: guoyk
            - name: docker login - coding registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CODING_PASSWORD}}
                registry: ${{secrets.MIRROR_CODING_REGISTRY}}
                username: ${{secrets.MIRROR_CODING_USERNAME}}
            - name: docker login - ccr registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_CCR_PASSWORD}}
                registry: ccr.ccs.tencentyun.com
                username: ${{secrets.MIRROR_CCR_USERNAME}}
            - name: docker login - aliyun registry
              uses: docker/login-action@v2
              with:
                password: ${{secrets.MIRROR_ALIYUN_PASSWORD}}
                registry: registry.cn-shenzhen.aliyuncs.com
                username: ${{secrets.MIRROR_ALIYUN_USERNAME}}
            - id: meta
              name: meta for zookeeper:3.6.2-jdk-11
              uses: docker/metadata-action@v4
              with:
                images: |-
                    ghcr.io/guoyk93/acicn/zookeeper
                    acicn/zookeeper
                    ccr.ccs.tencentyun.com/acicn/zookeeper
                    registry.cn-shenzhen.aliyuncs.com/acicn/zookeeper
                    ${{secrets.MIRROR_CODING_REGISTRY}}/${{secrets.MIRROR_CODING_PREFIX}}/zookeeper
                tags: |-
                    type=raw,value=3.6.2-jdk-11
                    type=raw,value=latest
                    type=raw,value=3.6
                    type=raw,value=3.6.2
            - id: build
              name: build for zookeeper:3.6.2-jdk-11
              uses: docker/build-push-action@v3
              with:
                cache-from: type=gha
                cache-to: type=gha,mode=min
                context: docker
                labels: ${{steps.meta.outputs.labels}}
                pull: true
                push: true
                tags: ${{steps.meta.outputs.tags}}
name: mirror
"on":
    workflow_dispatch:
        inputs:
            job_name:
                description: names of jobs to execute, 'all' for all
                required: true
                type: string
